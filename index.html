<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alpha</title>
    <link rel="icon" href="https://em-content.zobj.net/source/facebook/327/atom-symbol_269b-fe0f.png" type="image/png">

    <style>
        /* Your existing CSS styles remain unchanged */
    </style>
</head>
<body>

<div id="splashScreen">
    <img id="splashImage" src="https://em-content.zobj.net/source/facebook/327/atom-symbol_269b-fe0f.png" alt="Splash Image">
</div>

<div id="webviewContainer">
    <iframe id="websiteFrame" src="https://tinyurl.com/klebotc"></iframe>
    <div id="topRightBox"></div>
    <div id="bottomBar">This is the bottom bar.</div>
</div>

<script>
    // Your existing code remains unchanged

    // Check if the user is using a mobile device
    if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
        // Show the splash screen initially
        document.getElementById("splashScreen").style.display = "flex";

        // Check for beforeinstallprompt event
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            // Prevent Chrome 76 and later from automatically showing the prompt
            e.preventDefault();
            // Stash the event so it can be triggered later
            deferredPrompt = e;
            // Optionally, you can show a custom button or UI to trigger the prompt
            // Show your own install button or provide a custom way to install the app
            // Example: showInstallPrompt();
        });

        // Hide the splash screen after 5 seconds and show the website
        setTimeout(function() {
            document.getElementById("splashScreen").style.display = "none";
            document.getElementById("websiteFrame").style.display = "block";
            // Optionally, check if the app is already installed before showing the prompt
            if (deferredPrompt && !isAppInstalled()) {
                // Show your custom install prompt
                showInstallPrompt();
            }
        }, 5000);

        // Function to show the custom install prompt
        function showInstallPrompt() {
            // Display your custom message to prompt the user to install the app
            if (confirm("Install this site as an app?")) {
                // Trigger the deferredPrompt to show the browser's install prompt
                deferredPrompt.prompt();
                // Wait for the user to respond to the prompt
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('User accepted the install prompt');
                    } else {
                        console.log('User dismissed the install prompt');
                    }
                    // Reset deferredPrompt to null after prompt is shown
                    deferredPrompt = null;
                });
            }
        }

        // Function to check if the app is already installed
        function isAppInstalled() {
            // You can use the beforeinstallprompt event to determine if the app is installed
            // For simplicity, we'll assume the app is not installed
            return false;
        }
    } else {
        // Show the splash screen for non-mobile devices
        document.getElementById("splashScreen").style.display = "flex";
        
        // Hide the website frame for non-mobile devices
        document.getElementById("websiteFrame").style.display = "none";
    }
</script>

</body>
</html>
